{% extends "layout.html" %}

{% block content %}

<style>
    .fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .slide-in-left {
        opacity: 0;
        transform: translateX(-50px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .slide-in-left.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .slide-in-right {
        opacity: 0;
        transform: translateX(50px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .slide-in-right.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .scale-in {
        opacity: 0;
        transform: scale(0.8);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .scale-in.visible {
        opacity: 1;
        transform: scale(1);
    }

    .rotate-in {
        opacity: 0;
        transform: rotate(-10deg) translateY(20px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .rotate-in.visible {
        opacity: 1;
        transform: rotate(0deg) translateY(0);
    }

    .content-overlay {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
    }

    .service-card {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px solid transparent;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .service-card:hover {
        border-color: #5B21B6;
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(91, 33, 182, 0.1);
    }

    .floating-animation {
        animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }

    .gradient-text {
        background: linear-gradient(135deg, #5B21B6, #4C1D95);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .parallax-bg {
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
    }

    /* Nuevo estilo para título de productos estrella */
    .products-title {
        background: linear-gradient(45deg, #5B21B6, #ef4444, #1f2937);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        position: relative;
        display: inline-block;
    }

    .products-title::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, #5B21B6, #ef4444, #1f2937);
        border-radius: 20px;
        padding: 4px;
        z-index: -1;
        opacity: 0.1;
    }

    /* Estilos para recuadros de servicios */
    .service-box-purple {
        background: linear-gradient(135deg, #5B21B6 0%, #4C1D95 100%);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(91, 33, 182, 0.3);
    }

    .service-box-red {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
    }

    .service-box-black {
        background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(31, 41, 55, 0.3);
    }

    .service-text-gradient {
        background: linear-gradient(135deg, #ffffff 0%, #e5e7eb 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: bold;
    }

    .service-icon-purple { color: #A855F7; }
    .service-icon-red { color: #FCA5A5; }
    .service-icon-orange { color: #FCD34D; }
    .service-icon-white { color: #ffffff; }

    /* Modal styles */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .modal-content {
        background: white;
        padding: 2rem;
        border-radius: 20px;
        max-width: 800px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }

    .close-modal {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: #f3f4f6;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
        cursor: pointer;
        color: #6b7280;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .close-modal:hover {
        background: #e5e7eb;
        color: #374151;
    }

    .modal-video {
        width: 100%;
        height: 300px;
        border-radius: 10px;
        margin: 1rem 0;
    }

    .product-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 700;
        z-index: 10;
        color: white;
    }

    /* Colores actualizados de marca */
    .text-primary { color: #5B21B6 !important; }
    .bg-primary { background-color: #5B21B6 !important; }
    .text-blue-600 { color: #5B21B6 !important; }
    .border-blue-600 { border-color: #5B21B6 !important; }
</style>

    <!-- Video Background -->
    <div class="video-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden;">
        <video
            id="bgVideo"
            autoplay
            muted
            loop
            playsinline
            webkit-playsinline
            class="video-background"
            style="width: 100%; height: 100%; object-fit: cover;"
        >
            <source src="{{ url_for('static', filename='videos/bgD.mp4') }}" type="video/mp4">
        </video>
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4);"></div>
    </div>

    <!-- Sección Hero -->
    <div class="container mx-auto px-4 py-20 text-center fade-in">
        <img src="{{ url_for('static', filename='images/logo2.png') }}"
             alt="PROEDENT"
             class="mx-auto mb-6 h-24 w-auto floating-animation">
        <p class="text-3xl mb-8 font-serif text-white" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">
            Distribuidora de equipos y biomateriales dentales
        </p>
        <p class="text-xl text-gray-200 mb-8" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">
            Innovación y calidad al servicio de la odontología moderna
        </p>
    </div>

    <!-- Sección de Características -->
    <div class="container mx-auto px-4 py-16 bg-white shadow-2xl rounded-lg content-overlay mb-10 scale-in">
        <div class="text-center mb-12">
            <h2 class="text-5xl font-bold products-title">Nuestros Productos Estrella</h2>
            <div style="width: 100px; height: 4px; background: linear-gradient(45deg, #5B21B6, #ef4444, #1f2937); margin: 1rem auto; border-radius: 2px;"></div>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
            <!-- Green 21 - VATECH (MORADO) -->
            <div class="text-center service-card p-6 rounded-xl slide-in-left position-relative"
                 style="border: 3px solid #5B21B6; box-shadow: 0 0 20px rgba(91, 33, 182, 0.2);"
                 onclick="showProductDetails('Green 21', 'Tomógrafo CBCT de excelencia que eleva el estándar de diagnóstico 3D con tecnología verde avanzada para resultados superiores en cada exploración', 'Tomógrafo CBCT de excelencia con tecnología Green, campo de visión optimizado, alta resolución de imagen, eficiencia energética superior, interfaz intuitiva', 'https://www.youtube.com/embed/5cJV16y0qTA?si=VOn8n-WCSedp-Nab')">
                <div class="mb-6">
                    <span class="badge mb-2" style="background: #5B21B6 !important; color: white;">VATECH</span>
                    <div class="product-badge" style="background: #5B21B6;">DESTACADO</div>
                    <img src="{{ url_for('static', filename='images/vatech/v10.png') }}"
                         alt="Green 21"
                         class="mx-auto h-40 w-40 object-contain rounded-lg shadow-lg hover:scale-110 transition-transform duration-300">
                </div>
                <h3 class="text-2xl font-semibold mb-4" style="color: #5B21B6;">Green 21</h3>
                <p class="text-gray-600 mb-4">Tomógrafo CBCT de excelencia que eleva el estándar de diagnóstico 3D con tecnología verde avanzada</p>
                <div style="background: rgba(91, 33, 182, 0.1); padding: 12px; border-radius: 8px;">
                    <p class="text-sm font-semibold" style="color: #4C1D95;">Tecnología CBCT | Eficiencia energética | Campo de visión optimizado</p>
                </div>
            </div>

            <!-- X-MIND prime 3D - ACTEON (ROJO) -->
            <div class="text-center service-card p-6 rounded-xl fade-in position-relative"
                 style="border: 3px solid #ef4444; box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);"
                 onclick="showProductDetails('X-MIND® prime 3D', '¡Es la nueva inteligencia! Siempre dependerá de imágenes de alta calidad y potentes herramientas de imagen para tener éxito en el diagnóstico y la planificación del tratamiento. Sistema revolucionario con IA integrada', 'Tecnología de vanguardia en tomografía 3D con inteligencia artificial, imágenes de alta resolución, interface intuitiva, diagnóstico asistido por IA, planificación de tratamiento optimizada', 'https://www.youtube.com/embed/YNThL1g1HfY?si=PG5_GBczP4LeVA-y')">
                <div class="mb-6">
                    <span class="badge mb-2" style="background: #ef4444 !important; color: white;">ACTEON</span>
                    <div class="product-badge" style="background: #ef4444;">IA</div>
                    <img src="{{ url_for('static', filename='images/acteon/a-x-mind-prime-3d.png') }}"
                         alt="X-MIND prime 3D"
                         class="mx-auto h-40 w-40 object-contain rounded-lg shadow-lg hover:scale-110 transition-transform duration-300">
                </div>
                <h3 class="text-2xl font-semibold mb-4" style="color: #ef4444;">X-MIND® prime 3D</h3>
                <p class="text-gray-600 mb-4">¡Es la nueva inteligencia! Sistema de tomografía 3D con IA integrada para diagnósticos superiores</p>
                <div style="background: rgba(239, 68, 68, 0.1); padding: 12px; border-radius: 8px;">
                    <p class="text-sm font-semibold" style="color: #dc2626;">Inteligencia Artificial | Imagen 3D | Diagnóstico Avanzado</p>
                </div>
            </div>

            <!-- Cursos y Capacitación (Color Negro) -->
            <div class="text-center service-card p-6 rounded-xl slide-in-right position-relative"
                 style="border: 3px solid #1f2937; box-shadow: 0 0 20px rgba(31, 41, 55, 0.2);"
                 onclick="redirectToCourses()">
                <div class="mb-6">
                    <span class="badge mb-2" style="background: #1f2937 !important; color: white;">PROEDENT</span>
                    <div class="product-badge" style="background: #1f2937;">EDUCACIÓN</div>
                    <i class="fas fa-graduation-cap mx-auto" style="font-size: 8rem; color: #1f2937; height: 160px; display: flex; align-items: center; justify-content: center;"></i>
                </div>
                <h3 class="text-2xl font-semibold mb-4" style="color: #1f2937;">Cursos y Capacitación</h3>
                <p class="text-gray-600 mb-4">Programas especializados de formación profesional con certificación oficial</p>
                <div style="background: rgba(31, 41, 55, 0.1); padding: 12px; border-radius: 8px;">
                    <p class="text-sm font-semibold" style="color: #374151;">Certificación oficial | Instructores expertos | Modalidades flexibles</p>
                </div>
            </div>
        </div>


        <div class="flex flex-col md:flex-row justify-center items-center gap-4 md:gap-6 mt-12">
            <a href="{{ url_for('catalogo') }}" class="w-64 text-white font-bold py-4 px-6 rounded-lg shadow-lg transform hover:scale-105 transition duration-300 flex items-center justify-center" style="background: radial-gradient(circle, #5B21B6 0%, #4C1D95 50%, #3B0764 100%);">
                <i class="fas fa-clipboard-list mr-2"></i>
                Ver Catálogo Completo
            </a>
            <a href="{{ url_for('cursos') }}" class="w-64 text-white font-bold py-4 px-6 rounded-lg shadow-lg transform hover:scale-105 transition duration-300 flex items-center justify-center" style="background: radial-gradient(circle, #ef4444 0%, #dc2626 50%, #991b1b 100%);">
                <i class="fas fa-graduation-cap mr-2"></i>
                Cursos y Capacitaciones
            </a>
            <a href="#contacto" class="w-64 text-white font-bold py-4 px-6 rounded-lg shadow-lg transform hover:scale-105 transition duration-300 flex items-center justify-center" style="background: radial-gradient(circle, #000 0%, #0a0a0a 50%, #111 100%);">
                <i class="fas fa-phone mr-2"></i>
                Solicitar Cotización
            </a>
        </div>
    </div>

    <!-- Sección Servicios -->
    <div id="servicios" class="container mx-auto px-4 py-16 text-center parallax-bg rotate-in">
        <h1 class="text-5xl font-bold text-white mb-8" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">Nuestros Servicios Especializados</h1>
        <p class="text-xl text-gray-200 mb-12" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">Soluciones integrales para el consultorio odontológico moderno</p>

        <!-- Primera fila - Morado -->
        <div class="grid md:grid-cols-2 gap-8 mb-12">
            <div class="service-box-purple p-8 rounded-xl shadow-xl slide-in-left">
                <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-cogs service-icon-purple text-4xl mr-3"></i>
                    <h3 class="text-2xl font-bold service-text-gradient">Equipamiento Integral</h3>
                </div>
                <ul class="text-left text-gray-200 space-y-2">
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Tomógrafos dentales de última generación</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Sillones odontológicos ergonómicos</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Sistemas de radiología digital</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Instrumental quirúrgico especializado</li>
                </ul>
            </div>

            <div class="service-box-purple p-8 rounded-xl shadow-xl slide-in-right">
                <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-microscope service-icon-purple text-4xl mr-3"></i>
                    <h3 class="text-2xl font-bold service-text-gradient">Biomateriales Avanzados</h3>
                </div>
                <ul class="text-left text-gray-200 space-y-2">
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Composites de última generación</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Materiales de impresión digitales</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Cementos y adhesivos especializados</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Implantes y componentes protésicos</li>
                </ul>
            </div>
        </div>

        <!-- Segunda fila - Rojo -->
        <div class="grid md:grid-cols-2 gap-8 mb-12">
            <div class="service-box-red p-8 rounded-xl shadow-xl fade-in">
                <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-graduation-cap service-icon-red text-4xl mr-3"></i>
                    <h3 class="text-2xl font-bold service-text-gradient">Capacitación Profesional</h3>
                </div>
                <ul class="text-left text-gray-200 space-y-2">
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Cursos especializados en equipos</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Entrenamiento en nuevas tecnologías</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Certificaciones oficiales</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Soporte técnico continuo</li>
                </ul>
            </div>

            <div class="service-box-red p-8 rounded-xl shadow-xl scale-in">
                <div class="flex items-center justify-center mb-4">
                    <i class="fas fa-tools service-icon-orange text-4xl mr-3"></i>
                    <h3 class="text-2xl font-bold service-text-gradient">Servicio Técnico</h3>
                </div>
                <ul class="text-left text-gray-200 space-y-2">
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Instalación y puesta en marcha</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Mantenimiento preventivo programado</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Reparaciones especializadas</li>
                    <li><i class="fas fa-check-circle text-green-400 mr-2"></i>Garantía extendida disponible</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Sección Misión y Visión - Negro -->
    <div id="mision" class="container mx-auto px-4 py-16">
        <div class="grid md:grid-cols-2 gap-12">
            <div class="service-box-black p-8 rounded-xl shadow-xl slide-in-left">
                <div class="text-center mb-6">
                    <i class="fas fa-bullseye service-icon-white text-5xl mb-4"></i>
                    <h2 class="text-4xl font-bold service-text-gradient">Nuestra Misión</h2>
                </div>
                <p class="text-lg text-gray-300 leading-relaxed text-justify">
                    Proveer equipos odontológicos de alta calidad y biomateriales avanzados que permitan a los profesionales dentales
                    ofrecer tratamientos de excelencia. Nos comprometemos a ser el socio estratégico que impulse la innovación en cada
                    consultorio, brindando soluciones tecnológicas que mejoren la experiencia tanto del profesional como del paciente,
                    siempre con el respaldo de un servicio técnico especializado y capacitación continua.
                </p>
            </div>

            <div class="service-box-black p-8 rounded-xl shadow-xl slide-in-right">
                <div class="text-center mb-6">
                    <i class="fas fa-eye service-icon-white text-5xl mb-4"></i>
                    <h2 class="text-4xl font-bold service-text-gradient">Nuestra Visión</h2>
                </div>
                <p class="text-lg text-gray-300 leading-relaxed text-justify">
                    Ser la empresa líder en distribución de equipos dentales en Ecuador y expandirnos a nivel regional,
                    reconocida por nuestra excelencia en el servicio, innovación tecnológica y compromiso con la formación profesional.
                    Aspiramos a transformar la práctica odontológica mediante la introducción de tecnologías de vanguardia,
                    contribuyendo al desarrollo de una odontología más eficiente, precisa y accesible para toda la población.
                </p>
            </div>
        </div>
    </div>

    <!-- Sección Agendar Demostración -->
    <div id="contacto" class="flex justify-center items-center min-h-screen px-4 py-16" style="background: linear-gradient(135deg, #5B21B6 0%, #ef4444 33%, #dc2626 66%, #000000 100%);">
        <div class="p-8 rounded-2xl shadow-2xl max-w-lg w-full border-2 fade-in" style="background: linear-gradient(145deg, #1f2937 0%, #111827 100%); border-color: #5B21B6;">
            <div class="text-center mb-6">
              <i class="fas fa-calendar-alt text-4xl mb-4" style="color: #9CA3AF;"></i>
              <h2 class="text-3xl font-bold text-white mb-2">Solicitar Demostración</h2>
              <p class="text-lg text-gray-300">¿Listo para conocer nuestros equipos dentales?</p>
            </div>

            <form method="POST" action="{{ url_for('agendar_demo') }}" class="space-y-4">
              <div class="relative">
                <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="text" name="nombre" placeholder="Su Nombre" required
                       class="w-full pl-10 pr-4 py-3 border rounded-lg outline-none bg-gray-800 text-white placeholder-gray-400 transition duration-300"
                       style="border-color: #374151;"
                       onfocus="this.style.borderColor='#6B7280'; this.style.boxShadow='0 0 0 2px rgba(107, 114, 128, 0.3)';"
                       onblur="this.style.borderColor='#374151'; this.style.boxShadow='none';">
              </div>

              <div class="relative">
                <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="email" name="correo" placeholder="Su Correo Electrónico" required
                       class="w-full pl-10 pr-4 py-3 border rounded-lg outline-none bg-gray-800 text-white placeholder-gray-400 transition duration-300"
                       style="border-color: #374151;"
                       onfocus="this.style.borderColor='#6B7280'; this.style.boxShadow='0 0 0 2px rgba(107, 114, 128, 0.3)';"
                       onblur="this.style.borderColor='#374151'; this.style.boxShadow='none';">
              </div>

              <div class="relative">
                <i class="fas fa-calendar absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <input type="date" name="fecha" required
                       class="w-full pl-10 pr-4 py-3 border rounded-lg outline-none bg-gray-800 text-white transition duration-300"
                       style="border-color: #374151;"
                       onfocus="this.style.borderColor='#6B7280'; this.style.boxShadow='0 0 0 2px rgba(107, 114, 128, 0.3)';"
                       onblur="this.style.borderColor='#374151'; this.style.boxShadow='none';">
              </div>

              <div class="relative">
                <i class="fas fa-user-tie absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                <select name="representante" required
                        class="w-full pl-10 pr-4 py-3 border rounded-lg outline-none bg-gray-800 text-white transition duration-300"
                        style="border-color: #374151;"
                        onfocus="this.style.borderColor='#6B7280'; this.style.boxShadow='0 0 0 2px rgba(107, 114, 128, 0.3)';"
                        onblur="this.style.borderColor='#374151'; this.style.boxShadow='none';">
                  <option value="" disabled selected>Seleccione un representante/área</option>
                  <option value="Ing. Carlos Mendoza - Tomógrafos">Ing. Carlos Mendoza - Tomógrafos</option>
                  <option value="Lic. Ana García - Equipos Dentales">Lic. Ana García - Equipos Dentales</option>
                  <option value="Tec. Roberto Silva - Sensores Digitales">Tec. Roberto Silva - Sensores Digitales</option>
                  <option value="Lic. Patricia López - Biomateriales">Lic. Patricia López - Biomateriales</option>
                </select>
              </div>

              <button type="submit"
                      class="w-full text-white font-bold py-3 rounded-lg transform hover:scale-105 transition duration-300"
                      style="background: radial-gradient(circle, #9CA3AF 0%, #6B7280 50%, #374151 100%);"
                      onmouseover="this.style.background='radial-gradient(circle, #A1A1AA 0%, #4B5563 50%, #1F2937 100%)';"
                      onmouseout="this.style.background='radial-gradient(circle, #9CA3AF 0%, #6B7280 50%, #374151 100%)';">
                <i class="fas fa-paper-plane mr-2"></i>
                Solicitar Demostración
              </button>
            </form>
          </div>
        </div>

<!-- Modal de Detalles del Producto -->
<div class="modal-overlay" id="productModal">
    <div class="modal-content">
        <button class="close-modal" onclick="closeModal()">&times;</button>
        <h3 id="modalProductName" style="color: #5B21B6; font-size: 2rem; font-weight: bold; margin-bottom: 1rem;"></h3>

        <!-- Video container -->
        <div id="videoContainer" style="margin-bottom: 1.5rem;">
            <video id="modalVideo" class="modal-video" controls style="display: none;">
                <source id="videoSource" src="" type="video/mp4">
                Tu navegador no soporta la reproducción de video.
            </video>
        </div>

        <div style="display: grid; grid-template-columns: 1fr; gap: 1.5rem;">
            <div>
                <h6 style="color: #5B21B6; font-weight: bold; margin-bottom: 0.75rem; font-size: 1.1rem;">Descripción:</h6>
                <p id="modalProductDescription" style="color: #4b5563; line-height: 1.6; font-size: 1rem;"></p>
            </div>
            <div>
                <h6 style="color: #5B21B6; font-weight: bold; margin-bottom: 0.75rem; font-size: 1.1rem;">Especificaciones:</h6>
                <p id="modalProductSpecs" style="color: #6b7280; font-size: 0.95rem; line-height: 1.6;"></p>
            </div>
        </div>
        <div style="display: flex; gap: 1rem; margin-top: 2rem; justify-content: center;">
            <button onclick="closeModal()" style="padding: 0.75rem 1.5rem; background: #f3f4f6; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">Cerrar</button>
            <button onclick="requestQuoteFromModal()" style="padding: 0.75rem 2rem; background: #5B21B6; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                <i class="fas fa-calculator" style="margin-right: 0.5rem;"></i>Solicitar Cotización
            </button>
        </div>
    </div>
</div>

<script>
let currentProduct = '';

// Función para observar elementos y aplicar animaciones
function createObserver() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            } else {
                // Opcional: remover la clase para repetir la animación
                entry.target.classList.remove('visible');
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });

    // Observar todos los elementos con clases de animación
    const animatedElements = document.querySelectorAll(
        '.fade-in, .slide-in-left, .slide-in-right, .scale-in, .rotate-in'
    );

    animatedElements.forEach((el) => {
        observer.observe(el);
    });
}

// Mostrar detalles del producto con soporte para video
function showProductDetails(name, description, specs, videoUrl = null) {
    currentProduct = name;
    document.getElementById('modalProductName').textContent = name;
    document.getElementById('modalProductDescription').textContent = description;
    document.getElementById('modalProductSpecs').textContent = specs;

    // Manejar el video si existe
    const video = document.getElementById('modalVideo');
    const videoSource = document.getElementById('videoSource');

    if (videoUrl) {
        videoSource.src = `{{ url_for('static', filename='videos/') }}${videoUrl}`;
        video.style.display = 'block';
        video.load(); // Recargar el video con la nueva fuente
    } else {
        video.style.display = 'none';
    }

    document.getElementById('productModal').style.display = 'flex';
    document.body.style.overflow = 'hidden'; // Prevenir scroll del body
}

// Cerrar modal
function closeModal() {
    document.getElementById('productModal').style.display = 'none';
    document.body.style.overflow = 'auto'; // Restaurar scroll del body

    // Pausar video si está reproduciéndose
    const video = document.getElementById('modalVideo');
    video.pause();
}

// Solicitar cotización desde modal
function requestQuoteFromModal() {
    if (currentProduct) {
        const message = `Hola, me interesa solicitar una cotización para: ${currentProduct}. ¿Podrían enviarme más información?`;
        const whatsappUrl = `https://wa.me/593987553634?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
    }
}

// Cerrar modal al hacer click fuera
document.addEventListener('click', function(e) {
    const modal = document.getElementById('productModal');
    if (e.target === modal) {
        closeModal();
    }
});

// Cerrar modal con tecla Escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeModal();
    }
});

// Inicializar el observer cuando la página carga
document.addEventListener('DOMContentLoaded', function() {
    createObserver();

    // Efecto parallax suave para el fondo
    window.addEventListener('scroll', function() {
        const scrolled = window.pageYOffset;
        const parallax = document.querySelector('.parallax-bg');
        if (parallax) {
            const speed = scrolled * 0.5;
            parallax.style.backgroundPosition = `center ${speed}px`;
        }
    });

    // Animación adicional para las cards de servicios
    const serviceCards = document.querySelectorAll('.service-card');
    serviceCards.forEach((card, index) => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });

        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
});

// Smooth scroll para enlaces internos
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>

{% endblock %}