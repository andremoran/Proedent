{% extends "layout.html" %}

{% block content %}

<style>
    .fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }

    .slide-in-left {
        opacity: 0;
        transform: translateX(-50px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .slide-in-left.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .slide-in-right {
        opacity: 0;
        transform: translateX(50px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .slide-in-right.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .scale-in {
        opacity: 0;
        transform: scale(0.8);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .scale-in.visible {
        opacity: 1;
        transform: scale(1);
    }

    .rotate-in {
        opacity: 0;
        transform: rotate(-10deg) translateY(20px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .rotate-in.visible {
        opacity: 1;
        transform: rotate(0deg) translateY(0);
    }

    .content-overlay {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
    }

    .service-card {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px solid transparent;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .service-card:hover {
        border-color: #5B21B6;
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(91, 33, 182, 0.1);
    }

    .floating-animation {
        animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }

    .gradient-text {
        background: linear-gradient(135deg, #5B21B6, #4C1D95);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .parallax-bg {
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
    }

    .products-title {
        background: linear-gradient(45deg, #5B21B6, #ef4444, #1f2937);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        position: relative;
        display: inline-block;
    }

    .products-title::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, #5B21B6, #ef4444, #1f2937);
        border-radius: 20px;
        padding: 4px;
        z-index: -1;
        opacity: 0.1;
    }

    .service-box-purple {
        background: linear-gradient(135deg, #5B21B6 0%, #4C1D95 100%);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(91, 33, 182, 0.3);
    }

    .service-box-red {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(239, 68, 68, 0.3);
    }

    .service-box-black {
        background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        color: white;
        border: none;
        box-shadow: 0 10px 30px rgba(31, 41, 55, 0.3);
    }

    .service-text-gradient {
        background: linear-gradient(135deg, #ffffff 0%, #e5e7eb 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-weight: bold;
    }

    .service-icon-purple { color: #A855F7; }
    .service-icon-red { color: #FCA5A5; }
    .service-icon-orange { color: #FCD34D; }
    .service-icon-white { color: #ffffff; }

    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .modal-content {
        background: white;
        padding: 2rem;
        border-radius: 20px;
        max-width: 800px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }

    .close-modal {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: #f3f4f6;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
        cursor: pointer;
        color: #6b7280;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .close-modal:hover {
        background: #e5e7eb;
        color: #374151;
    }

    .modal-video {
        width: 100%;
        height: 300px;
        border-radius: 10px;
        margin: 1rem 0;
    }

    .product-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 700;
        z-index: 10;
        color: white;
    }

    .text-primary { color: #5B21B6 !important; }
    .bg-primary { background-color: #5B21B6 !important; }
    .text-blue-600 { color: #5B21B6 !important; }
    .border-blue-600 { border-color: #5B21B6 !important; }

    /* ESTILOS RESPONSIVOS PARA MÓVIL */
    @media (max-width: 768px) {
        /* Video de fondo optimizado para móvil */
        .video-container {
            display: none; /* Ocultar video en móvil para mejor rendimiento */
        }

        body {
            background: linear-gradient(135deg, #5B21B6 0%, #ef4444 50%, #1f2937 100%);
            background-attachment: fixed;
        }

        /* Hero section móvil */
        .hero-mobile {
            padding: 40px 15px !important;
            text-align: center;
        }

        .hero-mobile img {
            height: 60px !important;
            margin-bottom: 20px;
        }

        .hero-mobile .hero-title {
            font-size: 1.8rem !important;
            line-height: 1.2;
            margin-bottom: 20px;
        }

        .hero-mobile .hero-subtitle {
            font-size: 1rem !important;
            margin-bottom: 20px;
        }

        /* Grid de productos para móvil */
        .products-grid-mobile {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .service-card {
            padding: 20px !important;
            margin-bottom: 15px;
        }

        .service-card img {
            height: 120px !important;
            width: 120px !important;
        }

        .service-card h3 {
            font-size: 1.5rem !important;
        }

        .service-card p {
            font-size: 0.9rem !important;
        }

        /* Botones responsivos */
        .buttons-mobile {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 30px;
        }

        .buttons-mobile a {
            width: 100% !important;
            padding: 15px 20px !important;
            font-size: 1rem !important;
            text-align: center;
        }

        /* Servicios en móvil */
        .services-grid-mobile {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .service-box-purple,
        .service-box-red,
        .service-box-black {
            padding: 25px !important;
            margin-bottom: 20px;
        }

        .service-box-purple h3,
        .service-box-red h3,
        .service-box-black h3 {
            font-size: 1.3rem !important;
        }

        /* Títulos responsivos */
        .products-title {
            font-size: 2rem !important;
            line-height: 1.2;
            text-align: center;
            margin-bottom: 20px;
        }

        .section-title-mobile {
            font-size: 2.2rem !important;
            line-height: 1.2;
            margin-bottom: 15px;
        }

        /* Modal responsive */
        .modal-content {
            padding: 1.5rem !important;
            margin: 10px;
            max-height: 85vh;
        }

        .modal-video {
            height: 200px !important;
        }

        /* Formulario responsivo */
        .form-mobile {
            padding: 25px !important;
            margin: 20px 10px;
        }

        .form-mobile h2 {
            font-size: 1.8rem !important;
        }

        .form-mobile input,
        .form-mobile select {
            padding: 15px 12px !important;
            font-size: 1rem !important;
        }

        .form-mobile button {
            padding: 15px 25px !important;
            font-size: 1.1rem !important;
        }

        /* Parallax deshabilitado en móvil */
        .parallax-bg {
            background-attachment: scroll;
        }
    }

    @media (max-width: 576px) {
        .hero-mobile .hero-title {
            font-size: 1.5rem !important;
        }

        .products-title {
            font-size: 1.8rem !important;
        }

        .section-title-mobile {
            font-size: 2rem !important;
        }

        .service-card img {
            height: 100px !important;
            width: 100px !important;
        }
    }
</style>

<!-- Video Background (solo desktop) -->
<div class="video-container d-none d-md-block" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden;">
    <video
        id="bgVideo"
        autoplay
        muted
        loop
        playsinline
        webkit-playsinline
        class="video-background"
        style="width: 100%; height: 100%; object-fit: cover;"
    >
        <source src="{{ url_for('static', filename='videos/bgD.mp4') }}" type="video/mp4">
    </video>
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4);"></div>
</div>

<!-- Sección Hero -->
<div class="container-fluid hero-mobile px-4 py-5 text-center fade-in">
    <img src="{{ url_for('static', filename='images/logo2.png') }}"
         alt="PROEDENT"
         class="mx-auto mb-4 floating-animation"
         style="height: 80px;">
    <p class="hero-title mb-4 font-weight-bold text-white" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.8); font-size: 2.2rem;">
        Distribuidora de equipos y biomateriales dentales
    </p>
    <p class="hero-subtitle text-light mb-4" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.8); font-size: 1.1rem;">
        Innovación y calidad al servicio de la odontología moderna
    </p>
</div>

<!-- Sección de Productos Estrella -->
<div class="container-fluid px-3 py-4 bg-white shadow-lg rounded content-overlay mb-4 scale-in">
    <div class="text-center mb-4">
        <h1 class="products-title" style="font-size:3rem; line-height:1.1; font-weight:800;">Nuestros Productos Estrella</h1>
        <div style="width: 100px; height: 4px; background: linear-gradient(45deg, #5B21B6, #ef4444, #1f2937); margin: 1rem auto; border-radius: 2px;"></div>
    </div>

    <!-- Grid responsivo -->
    <div class="row products-grid-mobile">
        <!-- Green 21 - VATECH (MORADO) -->
        <div class="col-12 col-lg-4 mb-4">
            <div class="text-center service-card p-4 rounded shadow-sm h-100 position-relative"
                 style="border: 3px solid #5B21B6; box-shadow: 0 0 20px rgba(91, 33, 182, 0.2);"
                 onclick="showProductDetails('Vatech Green X21', 'La revolución en diagnóstico 3D con precisión y versatilidad total. Una plataforma de diagnóstico 6-en-1 diseñada para elevar el estándar de calidad en la práctica odontológica y maxilofacial moderna.', 'Versatilidad clínica absoluta: 6 modalidades en una unidad (CBCT Dental, Tomografía ENT, Escaneo 3D, Radiografía panorámica, Cefalometría digital, Escaneo facial 3D) • Cobertura FOV personalizable: 4×4 cm hasta 21×19 cm • Máxima resolución: Voxel mínimo de 50 μm • Smart Focus (FOV 12×9 cm): 5 estudios automáticos • Tecnología Green de baja dosis • Escaneos completos en 7-18 segundos', 'Vatech Green CBCT.mp4')">
                <div class="mb-3">
                    <span class="badge mb-2" style="background: #5B21B6 !important; color: white;">VATECH</span>
                    <div class="product-badge" style="background: #5B21B6;">DESTACADO</div>
                    <img src="{{ url_for('static', filename='images/vatech/v10.png') }}"
                         alt="Green 21"
                         class="mx-auto d-block rounded shadow-sm"
                         style="height: 140px; width: 140px; object-fit: contain;">
                </div>
                <h3 class="h5 mb-3" style="color: #5B21B6;">Green 21</h3>
                <p class="text-muted small mb-3">Tomógrafo CBCT de excelencia que eleva el estándar de diagnóstico 3D con tecnología verde avanzada</p>
                <div style="background: rgba(91, 33, 182, 0.1); padding: 12px; border-radius: 8px;">
                    <p class="small mb-0 font-weight-bold" style="color: #4C1D95;">Tecnología CBCT | Eficiencia energética | Campo de visión optimizado</p>
                </div>
            </div>
        </div>

        <!-- X-MIND prime 3D - ACTEON (ROJO) -->
        <div class="col-12 col-lg-4 mb-4">
            <div class="text-center service-card p-4 rounded shadow-sm h-100 position-relative"
                 style="border: 3px solid #ef4444; box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);"
                 onclick="showProductDetails('X-MIND® optima 3D', 'Compacto, potente y potenciado con Inteligencia Artificial. El equilibrio perfecto entre innovación, diseño compacto y poder diagnóstico, concebido para adaptarse a cualquier entorno clínico.', 'Diseño Zero Footprint: CBCT más compacto del mercado • Calidad diagnóstica superior: Detector digital última generación, rango kV hasta 90 kV • Flexibilidad FOV: 5×5 cm hasta 17×12 cm • Integración IA total: Segmentación automática, optimización implantes, detección estructuras anatómicas • Flujo digital continuo: Acteon Imaging Suite 5.4 • Interfaz intuitiva con soporte técnico especializado', 'ActeonIA.mp4')">
                <div class="mb-3">
                    <span class="badge mb-2" style="background: #ef4444 !important; color: white;">ACTEON</span>
                    <div class="product-badge" style="background: #ef4444;">IA</div>
                    <img src="{{ url_for('static', filename='images/acteon/a-x-mind-prime-3d.png') }}"
                         alt="X-MIND prime 3D"
                         class="mx-auto d-block rounded shadow-sm"
                         style="height: 140px; width: 140px; object-fit: contain;">
                </div>
                <h3 class="h5 mb-3" style="color: #ef4444;">X-MIND® prime 3D</h3>
                <p class="text-muted small mb-3">¡Es la nueva inteligencia! Sistema de tomografía 3D con IA integrada para diagnósticos superiores</p>
                <div style="background: rgba(239, 68, 68, 0.1); padding: 12px; border-radius: 8px;">
                    <p class="small mb-0 font-weight-bold" style="color: #dc2626;">Inteligencia Artificial | Imagen 3D | Diagnóstico Avanzado</p>
                </div>
            </div>
        </div>

        <!-- Cursos y Capacitación (Color Negro) - CAMBIO AQUÍ -->
        <div class="col-12 col-lg-4 mb-4">
          <a href="{{ url_for('cursos') }}" class="text-decoration-none text-reset d-block">
            <div class="text-center service-card p-4 rounded shadow-sm h-100 position-relative"
                 style="border: 3px solid #1f2937; box-shadow: 0 0 20px rgba(31,41,55,0.2); cursor:pointer;">
              <div class="mb-3">
                <span class="badge mb-2" style="background:#1f2937!important; color:white;">PROEDENT</span>
                <div class="product-badge" style="background:#1f2937;">EDUCACIÓN</div>
                <!-- REEMPLAZAR el ícono con la imagen -->
                <img src="{{ url_for('static', filename='images/frasaco/fra-cabezaP63.png') }}"
                     alt="Simulación Odontológica"
                     class="mx-auto d-block rounded shadow-sm"
                     style="height: 140px; width: 140px; object-fit: contain;">
              </div>
              <h3 class="h5 mb-3" style="color:#1f2937;">Cursos y Capacitación</h3>
              <p class="text-muted small mb-3">Programas especializados de formación profesional con certificación oficial</p>
              <div style="background:rgba(31,41,55,0.1); padding:12px; border-radius:8px;">
                <p class="small mb-0 font-weight-bold" style="color:#374151;">
                  Certificación oficial | Instructores expertos | Modalidades flexibles
                </p>
              </div>
            </div>
          </a>
        </div>

    </div>

    <!-- Botones responsivos -->
    <div class="buttons-mobile">
        <a href="{{ url_for('catalogo') }}" class="btn text-white font-weight-bold d-flex align-items-center justify-content-center" style="background: radial-gradient(circle, #5B21B6 0%, #4C1D95 50%, #3B0764 100%); padding: 15px;">
            <i class="fas fa-clipboard-list me-2"></i>
            Ver Catálogo Completo
        </a>
        <a href="{{ url_for('cursos') }}" class="btn text-white font-weight-bold d-flex align-items-center justify-content-center" style="background: radial-gradient(circle, #ef4444 0%, #dc2626 50%, #991b1b 100%); padding: 15px;">
            <i class="fas fa-graduation-cap me-2"></i>
            Cursos y Capacitaciones
        </a>
        <a href="#contacto" class="btn text-white font-weight-bold d-flex align-items-center justify-content-center" style="background: radial-gradient(circle, #000 0%, #0a0a0a 50%, #111 100%); padding: 15px;">
            <i class="fas fa-phone me-2"></i>
            Solicitar Cotización
        </a>
    </div>
</div>

<!-- Sección Servicios -->
<div id="servicios" class="container-fluid px-3 py-4 text-center parallax-bg rotate-in">
    <h1 class="section-title-mobile text-white mb-4" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">Nuestros Servicios Especializados</h1>
    <p class="text-light mb-4" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.8);">Soluciones integrales para el consultorio odontológico moderno</p>

    <!-- Grid de servicios para móvil -->
    <div class="row services-grid-mobile">
        <!-- Primera fila - Morado -->
        <div class="col-12 col-lg-6 mb-3">
            <div class="service-box-purple p-4 rounded shadow slide-in-left">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="fas fa-cogs service-icon-purple me-2" style="font-size: 2rem;"></i>
                    <h3 class="h5 mb-0 service-text-gradient">Equipamiento Integral</h3>
                </div>
                <ul class="list-unstyled text-light small">
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Tomógrafos dentales de última generación</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Sillones odontológicos ergonómicos</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Sistemas de radiología digital</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Instrumental quirúrgico especializado</li>
                </ul>
            </div>
        </div>

        <div class="col-12 col-lg-6 mb-3">
            <div class="service-box-purple p-4 rounded shadow slide-in-right">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="fas fa-microscope service-icon-purple me-2" style="font-size: 2rem;"></i>
                    <h3 class="h5 mb-0 service-text-gradient">Biomateriales Avanzados</h3>
                </div>
                <ul class="list-unstyled text-light small">
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Composites de última generación</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Materiales de impresión digitales</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Cementos y adhesivos especializados</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Implantes y componentes protésicos</li>
                </ul>
            </div>
        </div>

        <!-- Segunda fila - Rojo -->
        <div class="col-12 col-lg-6 mb-3">
            <div class="service-box-red p-4 rounded shadow fade-in">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="fas fa-graduation-cap service-icon-red me-2" style="font-size: 2rem;"></i>
                    <h3 class="h5 mb-0 service-text-gradient">Capacitación Profesional</h3>
                </div>
                <ul class="list-unstyled text-light small">
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Cursos especializados en equipos</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Entrenamiento en nuevas tecnologías</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Certificaciones oficiales</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Soporte técnico continuo</li>
                </ul>
            </div>
        </div>

        <div class="col-12 col-lg-6 mb-3">
            <div class="service-box-red p-4 rounded shadow scale-in">
                <div class="d-flex align-items-center justify-content-center mb-3">
                    <i class="fas fa-tools service-icon-orange me-2" style="font-size: 2rem;"></i>
                    <h3 class="h5 mb-0 service-text-gradient">Servicio Técnico</h3>
                </div>
                <ul class="list-unstyled text-light small">
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Instalación y puesta en marcha</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Mantenimiento preventivo programado</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Reparaciones especializadas</li>
                    <li class="mb-1"><i class="fas fa-check-circle text-success me-2"></i>Garantía extendida disponible</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Sección Misión y Visión - Negro -->
<div id="mision" class="container-fluid px-3 py-4">
    <div class="row">
        <div class="col-12 col-lg-6 mb-4">
            <div class="service-box-black p-4 rounded shadow slide-in-left">
                <div class="text-center mb-3">
                    <i class="fas fa-bullseye service-icon-white mb-3" style="font-size: 3rem;"></i>
                    <h2 class="h4 service-text-gradient">Nuestra Misión</h2>
                </div>
                <p class="text-light small text-justify">
                    Proveer equipos odontológicos de alta calidad y biomateriales avanzados que permitan a los profesionales dentales
                    ofrecer tratamientos de excelencia. Nos comprometemos a ser el socio estratégico que impulse la innovación en cada
                    consultorio, brindando soluciones tecnológicas que mejoren la experiencia tanto del profesional como del paciente,
                    siempre con el respaldo de un servicio técnico especializado y capacitación continua.
                </p>
            </div>
        </div>

        <div class="col-12 col-lg-6 mb-4">
            <div class="service-box-black p-4 rounded shadow slide-in-right">
                <div class="text-center mb-3">
                    <i class="fas fa-eye service-icon-white mb-3" style="font-size: 3rem;"></i>
                    <h2 class="h4 service-text-gradient">Nuestra Visión</h2>
                </div>
                <p class="text-light small text-justify">
                    Ser la empresa líder en distribución de equipos dentales en Ecuador y expandirnos a nivel regional,
                    reconocida por nuestra excelencia en el servicio, innovación tecnológica y compromiso con la formación profesional.
                    Aspiramos a transformar la práctica odontológica mediante la introducción de tecnologías de vanguardia,
                    contribuyendo al desarrollo de una odontología más eficiente, precisa y accesible para toda la población.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Sección Agendar Demostración -->
<div id="contacto" class="d-flex justify-content-center align-items-center min-vh-50 px-3 py-4" style="background: linear-gradient(135deg, #5B21B6 0%, #ef4444 33%, #dc2626 66%, #000000 100%);">
    <div class="form-mobile rounded shadow-lg w-100" style="max-width: 500px; background: linear-gradient(145deg, #1f2937 0%, #111827 100%); border: 2px solid #5B21B6;">
        <div class="text-center mb-4">
          <i class="fas fa-calendar-alt mb-3" style="font-size: 2.5rem; color: #9CA3AF;"></i>
          <h2 class="h4 text-white mb-2">Solicitar Demostración</h2>
          <p class="text-light">¿Listo para conocer nuestros equipos dentales?</p>
        </div>

        <form method="POST" action="{{ url_for('agendar_demo') }}" class="space-y-3">
          <div class="mb-3 position-relative">
            <i class="fas fa-user position-absolute" style="left: 15px; top: 50%; transform: translateY(-50%); color: #6b7280;"></i>
            <input type="text" name="nombre" placeholder="Su Nombre" required
                   class="form-control bg-dark text-white border-secondary"
                   style="padding-left: 45px; padding: 15px 15px 15px 45px;">
          </div>

          <div class="mb-3 position-relative">
            <i class="fas fa-envelope position-absolute" style="left: 15px; top: 50%; transform: translateY(-50%); color: #6b7280;"></i>
            <input type="email" name="correo" placeholder="Su Correo Electrónico" required
                   class="form-control bg-dark text-white border-secondary"
                   style="padding-left: 45px; padding: 15px 15px 15px 45px;">
          </div>

          <div class="mb-3 position-relative">
            <i class="fas fa-calendar position-absolute" style="left: 15px; top: 50%; transform: translateY(-50%); color: #6b7280;"></i>
            <input type="date" name="fecha" required
                   class="form-control bg-dark text-white border-secondary"
                   style="padding-left: 45px; padding: 15px 15px 15px 45px;">
          </div>

          <div class="mb-3 position-relative">
            <i class="fas fa-user-tie position-absolute" style="left: 15px; top: 50%; transform: translateY(-50%); color: #6b7280;"></i>
            <select name="representante" required
                    class="form-select bg-dark text-white border-secondary"
                    style="padding-left: 45px; padding: 15px 15px 15px 45px;">
              <option value="" disabled selected>Seleccione un representante/área</option>
              <option value="Ing. Carlos Mendoza - Tomógrafos">Ing. Carlos Mendoza - Tomógrafos</option>
              <option value="Lic. Ana García - Equipos Dentales">Lic. Ana García - Equipos Dentales</option>
              <option value="Tec. Roberto Silva - Sensores Digitales">Tec. Roberto Silva - Sensores Digitales</option>
              <option value="Lic. Patricia López - Biomateriales">Lic. Patricia López - Biomateriales</option>
            </select>
          </div>

          <button type="submit"
                  class="btn w-100 text-white font-weight-bold"
                  style="background: radial-gradient(circle, #9CA3AF 0%, #6B7280 50%, #374151 100%); padding: 15px;">
            <i class="fas fa-paper-plane me-2"></i>
            Solicitar Demostración
          </button>
        </form>
      </div>
    </div>

<!-- Modal de Detalles del Producto -->
<div class="modal-overlay" id="productModal">
    <div class="modal-content">
        <button class="close-modal" onclick="closeModal()">&times;</button>
        <h3 id="modalProductName" class="h4 mb-3" style="color: #5B21B6;"></h3>

        <!-- Video container -->
        <div id="videoContainer" class="mb-3">
            <video id="modalVideo" class="modal-video" controls style="display: none;">
                <source id="videoSource" src="" type="video/mp4">
                Tu navegador no soporta la reproducción de video.
            </video>
        </div>

        <div>
            <h6 style="color: #5B21B6; font-weight: bold; margin-bottom: 0.75rem;">Descripción:</h6>
            <p id="modalProductDescription" class="text-muted mb-3" style="line-height: 1.6;"></p>

            <h6 style="color: #5B21B6; font-weight: bold; margin-bottom: 0.75rem;">Especificaciones Técnicas:</h6>
            <div id="modalProductSpecs" class="text-muted mb-4" style="line-height: 1.6; background: #f8f9fa; padding: 1rem; border-radius: 8px; border-left: 4px solid #5B21B6;"></div>
        </div>

        <div class="d-flex flex-column flex-sm-row gap-2 justify-content-center">
            <button onclick="closeModal()" class="btn btn-secondary">Cerrar</button>
            <button onclick="requestQuoteFromModal()" class="btn text-white" style="background: #5B21B6;">
                <i class="fas fa-calculator me-1"></i>Solicitar Cotización
            </button>
        </div>
    </div>
</div>

<script>
let currentProduct = '';

// Función para observar elementos y aplicar animaciones
function createObserver() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            } else {
                entry.target.classList.remove('visible');
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });

    const animatedElements = document.querySelectorAll(
        '.fade-in, .slide-in-left, .slide-in-right, .scale-in, .rotate-in'
    );

    animatedElements.forEach((el) => {
        observer.observe(el);
    });
}

// Mostrar detalles del producto con soporte para video
function showProductDetails(name, description, specs, videoUrl = null) {
    currentProduct = name;
    document.getElementById('modalProductName').textContent = name;
    document.getElementById('modalProductDescription').textContent = description;

    // Formatear las especificaciones para mejor visualización
    const specsDiv = document.getElementById('modalProductSpecs');
    if (specs.includes('•')) {
        // Convertir los bullet points en una lista HTML
        const specsList = specs.split('•').map(spec => spec.trim()).filter(spec => spec.length > 0);
        specsDiv.innerHTML = '<ul style="margin: 0; padding-left: 1.5rem;">' +
            specsList.map(spec => `<li style="margin-bottom: 0.5rem;">${spec}</li>`).join('') +
            '</ul>';
    } else {
        specsDiv.textContent = specs;
    }

    const video = document.getElementById('modalVideo');
    const videoSource = document.getElementById('videoSource');

    if (videoUrl) {
        videoSource.src = `{{ url_for('static', filename='videos/') }}${videoUrl}`;
        video.style.display = 'block';
        video.load();
    } else {
        video.style.display = 'none';
    }

    document.getElementById('productModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// Cerrar modal
function closeModal() {
    document.getElementById('productModal').style.display = 'none';
    document.body.style.overflow = 'auto';

    const video = document.getElementById('modalVideo');
    video.pause();
}

// Solicitar cotización desde modal
function requestQuoteFromModal() {
    if (currentProduct) {
        const message = `Hola, me interesa solicitar una cotización para: ${currentProduct}. ¿Podrían enviarme más información?`;
        const whatsappUrl = `https://wa.me/593987553634?text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
    }
}

// Cerrar modal al hacer click fuera
document.addEventListener('click', function(e) {
    const modal = document.getElementById('productModal');
    if (e.target === modal) {
        closeModal();
    }
});

// Cerrar modal con tecla Escape
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeModal();
    }
});

// Inicializar cuando carga la página
document.addEventListener('DOMContentLoaded', function() {
    createObserver();

    // Efecto parallax solo para desktop
    if (window.innerWidth > 768) {
        window.addEventListener('scroll', function() {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelector('.parallax-bg');
            if (parallax) {
                const speed = scrolled * 0.5;
                parallax.style.backgroundPosition = `center ${speed}px`;
            }
        });
    }

    // Animación para las cards de servicios
    const serviceCards = document.querySelectorAll('.service-card');
    serviceCards.forEach((card) => {
        card.addEventListener('mouseenter', function() {
            if (window.innerWidth > 768) {
                this.style.transform = 'translateY(-10px) scale(1.02)';
            }
        });

        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
});

// Smooth scroll para enlaces internos
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>

{% endblock %}